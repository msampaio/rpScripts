Plotter
=======

Plotter returns partitiogram and indexogram charts from a given JSON file generated by :doc:`calculator`. This command generates basic charts:

.. code-block:: console

    rpscripts plot score.json

Obs: All the examples below are related to Robert Schumann's op. 48, n. 2.

.. figure:: ../../../examples/schumann-opus48no2-partitiogram.svg
    :alt: partitiogram

    Partitiogram

.. figure:: ../../../examples/schumann-opus48no2-indexogram.svg
    :alt: indexogram

    Indexogram

Plotter accepts multiple options to define image format, resolution, and indexogram type.

The option ``-h`` prints the command help:

.. code-block:: console

    usage: rpscripts plot [-h] [-f IMG_FORMAT] [-r RESOLUTION] [-a] [-u] [-w] [-m]
                        [-fl] [-c] [-e] [-t] [-p] [-b]
                        [--maximum_points_to_label MAXIMUM_POINTS_TO_LABEL]
                        [--dots_size DOTS_SIZE] [--labels_size LABELS_SIZE]
                        [--labels_distance LABELS_DISTANCE]
                        filename

    positional arguments:
    filename              JSON filename (calc's output)

    options:
    -h, --help            show this help message and exit
    -f IMG_FORMAT, --img_format IMG_FORMAT
                            Charts output format (svg, png, or jpg)
    -r RESOLUTION, --resolution RESOLUTION
                            PNG image resolution. Default=300
    -a, --all             Plot all available charts
    -u, --bubble_partitiogram
                            Partitiogram as a bubble chart
    -w, --without_labels  Partitiogram as a bubble chart without labels
    -m, --comparative_partitiogram
                            Comparative partitiogram. It demands a previous
                            labeled file. Check rpscripts labels -h' column
    -fl, --show_form_labels
                            Draw vertical lines to display given form labels. It
                            demands a previous labeled file. Check rpscripts
                            labels -h' column
    -c, --close_bubbles   Indexogram with bubbles' closing lines
    -e, --stem            Indexogram as a stem chart
    -t, --stairs          Indexogram as a stair chart
    -p, --step            Indexogram as a step chart
    -b, --combined        Indexogram as a combination of aglomeration and
                            dispersion
    --maximum_points_to_label MAXIMUM_POINTS_TO_LABEL
                            Maximum number of points to label in bubble
                            partitiogram chart. Default=50
    --dots_size DOTS_SIZE
                            Dots size in simple partitiogram chart. Default=15
    --labels_size LABELS_SIZE
                            Labels size in partitiogram chart. Default=15
    --labels_distance LABELS_DISTANCE
                            Distance between points and labels in partitiogram
                            chart. Default=1.025


Image format
------------

Use the ``-f`` option to set the chart images format. Otherwise, Plotter generates them in svg format.

.. code-block:: console

    rpscripts plot -f svg score.json
    rpscripts plot -f png score.json
    rpscripts plot -f jpg score.json

Image resolution
----------------

Use the ``-r`` option to set JPG or PNG image resolution.

.. code-block:: console

    rpscripts plot -f png -r 300 score.json

Partitiogram options
---------------------

Use the ``--maximum_points_to_label`` option to set the maximum number of points to label in the partitiogram charts. The default value is 50:

.. code-block:: console

    rpscripts plot --maximum_points_to_label 20 -u score.json

Use the ``--labels_size`` option to set labels' size in the partitiogram charts. Default is 15:

.. code-block:: console

    rpscripts plot --labels_size 20 -u score.json

Use the ``--labels_distance`` option to set the distance between points and labels in the partitiogram charts. The default value is 1.025:

.. code-block:: console

    rpscripts plot --labels_distance 2 -u score.json

Use the ``--dots_size`` option to define the size of the dots in the partitiograms charts. The default value is 15 (the previous example's value is 10):

.. code-block:: console

    rpscripts plot --dots_size 10 -m score.json

Bubble partitiogram
^^^^^^^^^^^^^^^^^^^

Use the ``-u`` option to plot bubble partitiograms:

.. code-block:: console

    rpscripts plot -u score.json

.. figure:: ../../../examples/schumann-opus48no2-bubble-partitiogram.svg
    :alt: bubble-partitiogram

    Bubble partitiogram


Comparative partitiograms
^^^^^^^^^^^^^^^^^^^^^^^^^

Use the ``-m`` option to plot comparative partitiograms. It demands an annotated CSV file with labels for each row. The :doc:`labeler` program generates the annotated file.

Plotter generates comparative partitiograms for the combination of pairs of all available labels.

.. code-block:: console

    rpscripts plot -m score.json

.. figure:: ../../../examples/schumann-opus48no2-labeled-comparison-partitiogram-part-a-part-b.svg
    :alt: comparative-partitiogram

    Comparative partitiogram: parts A and B

Indexogram options
------------------

Closing bubbles
^^^^^^^^^^^^^^^

Use the ``-c`` option to plot vertical lines closing indexogram bubbles:

.. code-block:: console

    rpscripts plot -c score.json

.. figure:: ../../../examples/schumann-opus48no2-indexogram-closing.svg
    :alt: closing-indexogram

    Indexogram with closing lines

Stem style
^^^^^^^^^^

Use the ``-e`` option to plot indexogram in stem style:

.. code-block:: console

    rpscripts plot -e score.json

.. figure:: ../../../examples/schumann-opus48no2-indexogram-stem.svg
    :alt: stem-indexogram

    Indexogram as stem chart


Stairs style
^^^^^^^^^^^^
Use the ``-t`` option to plot indexogram in stairs style:

.. code-block:: console

    rpscripts plot -t score.json

.. figure:: ../../../examples/schumann-opus48no2-indexogram-stairs.svg
    :alt: stairs-indexogram

    Indexogram as stair chart

![Indexogram as stair chart](examples/schumann-opus48no2-indexogram-stairs.svg)


Combined style
^^^^^^^^^^^^^^

Use the ``-b`` option to plot indexogram in combined style:

.. code-block:: console

    rpscripts plot -b score.json

.. figure:: ../../../examples/schumann-opus48no2-indexogram-combined.svg
    :alt: combined-indexogram

    Indexogram as combined chart

All charts
----------

Use the ``-a`` option to plot all available indexogram types charts:

.. code-block:: console

    rpscripts plot -a score.json
