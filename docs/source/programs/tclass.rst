TClass
======

TClass calculates the textural classes and returns two charts: textural classes in time and textural classes graph, both from a given JSON file generated by :doc:`calculator`. This command generates basic charts:

.. code-block:: console

    rpscripts tclass score.json

**Note**: All the examples below are from Robert Schumann's op. 48, n. 2 (See the `examples <https://github.com/msampaio/rpScripts/tree/main/examples>`_ folder).

.. figure:: ../../../examples/schumann-opus48no2-classes.svg
    :alt: textural-classes-time

    Textural classes in time

.. figure:: ../../../examples/schumann-opus48no2-classes-graph.gv.svg
    :alt: indexogram

    Textural classes graph

TClass calculates the textural classes of a given JSON file and saves them in the same file. JSON files generated by RPScripts versions prior to 2.1 must be regenerated by :doc:`calculator`.

TClass accepts multiple options to omit charts and to show form labels.

The option ``-h`` prints the command help:

.. code-block:: console

    usage: rpscripts tclass [-h] [-np] [-ng] [-fl] [-c] filename

    positional arguments:
    filename              JSON filename (calc's output)

    options:
    -h, --help            show this help message and exit
    -np, --no_plot        No texture class chart
    -ng, --no_graph       No graph chart
    -fl, --show_form_labels
                            Draw vertical lines to display given form labels. It
                            demands a previous labeled file. Check rpscripts
                            labels -h' column
    -c, --counting_chart  Counting chart

Omit texture class chart generation
-----------------------------------

Use the ``-np`` option to omit texture class in time chart generation.

.. code-block:: console

    rpscripts tclass -np score.json

Omit texture class graph generation
-----------------------------------

Use the ``-ng`` option to omit texture class graph generation.

.. code-block:: console

    rpscripts tclass -ng score.json

Form labels displaying
----------------------

For the labels displaying, use the ``-fl`` option. It adds vertical lines in the indexogram. It demands a labeled ``JSON`` file. The :doc:`labeler` program generates the labeled file.

.. code-block:: console

    rpscripts tclass -fl score.json

.. figure:: ../../../examples/schumann-opus48no2-classes-labeled.svg
    :alt: labeled-indexogram

    Indexogram with form labels indications

Counting chart
--------------

Use the ``-c`` option to plot a texture classes counting chart.

.. code-block:: console

    rpscripts tclass -c score.json

.. figure:: ../../../examples/schumann-opus48no2-classes-counter.svg
    :alt: textural-classes-counting-chart

    Textural classes counting chart